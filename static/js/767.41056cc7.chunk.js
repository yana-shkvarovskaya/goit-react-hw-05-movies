"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[767],{1207:function(e,r,t){var n=t(5861),a=t(7757),s=t.n(a),u=t(4569),c=t.n(u);function o(){return(o=(0,n.Z)(s().mark((function e(){var r,t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"trending/movie/week"},e.next=4,c()(r);case 4:return t=e.sent,n=t.data,e.abrupt("return",n.results);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function i(){return(i=(0,n.Z)(s().mark((function e(r){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"search/movie",params:{query:r}},e.next=4,c()(t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){return(p=(0,n.Z)(s().mark((function e(r){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"movie/".concat(r)},e.next=4,c()(t,r);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return(l=(0,n.Z)(s().mark((function e(r){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"movie/".concat(r,"/credits")},e.next=4,c()(t,r);case 4:return n=e.sent,a=n.data,e.abrupt("return",a.cast);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function f(){return(f=(0,n.Z)(s().mark((function e(r){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"movie/".concat(r,"/reviews")},e.next=4,c()(t,r);case 4:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}c().defaults.baseURL="https://api.themoviedb.org/3/",c().defaults.params={api_key:"8f2143e87d675d4e916d007dbc4e3721",language:"en-US"};var h={fetchApiMovieTrending:function(){return o.apply(this,arguments)},fetchApiMoviesByQuery:function(e){return i.apply(this,arguments)},fetchApiMovieDetails:function(e){return p.apply(this,arguments)},fetchApiMovieCast:function(e){return l.apply(this,arguments)},fetchApiMovieReviews:function(e){return f.apply(this,arguments)}};r.Z=h},5767:function(e,r,t){t.r(r),t.d(r,{default:function(){return l}});var n=t(8152),a=t(2791),s=t(3504),u=t(1207),c=t(8494),o=t(577),i=t(184);function p(e){var r=e.onSubmit,t=(0,a.useState)(""),s=(0,n.Z)(t,2),u=s[0],p=s[1];return(0,i.jsx)("div",{className:"Searchbar",children:(0,i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==u.trim()?(r(u),p("")):o.Am.error("Add movie name")},className:"SearchForm",children:[(0,i.jsx)("input",{className:"SearchForm-input",name:"movieName",value:u,onChange:function(e){p(e.currentTarget.value.toLowerCase())},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,i.jsxs)("button",{type:"submit",className:"SearchForm-button",children:[(0,i.jsx)(c.Yfv,{style:{marginRight:8}}),(0,i.jsx)("span",{className:"SearchForm-button-label",children:"Search"})]})]})})}function l(){var e=(0,a.useState)(""),r=(0,n.Z)(e,2),t=r[0],c=r[1],o=(0,a.useState)(null),l=(0,n.Z)(o,2),f=l[0],h=l[1];return(0,a.useEffect)((function(){t&&u.Z.fetchApiMoviesByQuery(t).then(h)}),[t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p,{onSubmit:function(e){c(e)}}),f&&(0,i.jsx)("ul",{children:f.map((function(e){return(0,i.jsx)("li",{children:(0,i.jsx)(s.rU,{className:"text",to:"".concat(e.id),children:(0,i.jsx)("p",{children:e.title})})},e.id)}))})]})}}}]);
//# sourceMappingURL=767.41056cc7.chunk.js.map